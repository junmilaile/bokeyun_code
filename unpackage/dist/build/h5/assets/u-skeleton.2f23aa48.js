import{d as t,m as e,a,o as i,c as s,w as n,n as r,e as l,f as o,g as h,j as d,F as u,k as p,h as _,l as w}from"./index-6f7f74a6.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const y=g({name:"u-skeleton",mixins:[e,a,{props:{loading:{type:Boolean,default:t.skeleton.loading},animate:{type:Boolean,default:t.skeleton.animate},rows:{type:[String,Number],default:t.skeleton.rows},rowsWidth:{type:[String,Number,Array],default:t.skeleton.rowsWidth},rowsHeight:{type:[String,Number,Array],default:t.skeleton.rowsHeight},title:{type:Boolean,default:t.skeleton.title},titleWidth:{type:[String,Number],default:t.skeleton.titleWidth},titleHeight:{type:[String,Number],default:t.skeleton.titleHeight},avatar:{type:Boolean,default:t.skeleton.avatar},avatarSize:{type:[String,Number],default:t.skeleton.avatarSize},avatarShape:{type:String,default:t.skeleton.avatarShape}}}],data:()=>({width:0}),watch:{loading(){this.getComponentWidth()}},computed:{rowsArray(){/%$/.test(this.rowsHeight)&&uni.$u.error("rowsHeight参数不支持百分比单位");const t=[];for(let e=0;e<this.rows;e++){let a={},i=uni.$u.test.array(this.rowsWidth)?this.rowsWidth[e]||(e===this.rows-1?"70%":"100%"):e===this.rows-1?"70%":this.rowsWidth,s=uni.$u.test.array(this.rowsHeight)?this.rowsHeight[e]||"18px":this.rowsHeight;a.marginTop=this.title||0!==e?this.title&&0===e?"20px":"12px":0,/%$/.test(i)?a.width=uni.$u.addUnit(this.width*parseInt(i)/100):a.width=uni.$u.addUnit(i),a.height=uni.$u.addUnit(s),t.push(a)}return t},uTitleWidth(){let t=0;return t=/%$/.test(this.titleWidth)?uni.$u.addUnit(this.width*parseInt(this.titleWidth)/100):uni.$u.addUnit(this.titleWidth),uni.$u.addUnit(t)}},mounted(){this.init()},methods:{init(){this.getComponentWidth()},async setNvueAnimation(){},async getComponentWidth(){await uni.$u.sleep(20),this.$uGetRect(".u-skeleton__wrapper__content").then((t=>{this.width=t.width}))}}},[["render",function(t,e,a,g,y,m){const k=w;return i(),s(k,{class:"u-skeleton"},{default:n((()=>[t.loading?(i(),s(k,{key:0,class:"u-skeleton__wrapper",ref:"u-skeleton__wrapper",style:{display:"flex","flex-direction":"row"}},{default:n((()=>[t.avatar?(i(),s(k,{key:0,class:r(["u-skeleton__wrapper__avatar",[`u-skeleton__wrapper__avatar--${t.avatarShape}`,t.animate&&"animate"]]),style:l({height:t.$u.addUnit(t.avatarSize),width:t.$u.addUnit(t.avatarSize)})},null,8,["class","style"])):o("",!0),h(k,{class:"u-skeleton__wrapper__content",ref:"u-skeleton__wrapper__content",style:{flex:"1"}},{default:n((()=>[t.title?(i(),s(k,{key:0,class:r(["u-skeleton__wrapper__content__title",[t.animate&&"animate"]]),style:l({width:m.uTitleWidth,height:t.$u.addUnit(t.titleHeight)})},null,8,["style","class"])):o("",!0),(i(!0),d(u,null,p(m.rowsArray,((e,a)=>(i(),s(k,{class:r(["u-skeleton__wrapper__content__rows",[t.animate&&"animate"]]),key:a,style:l({width:e.width,height:e.height,marginTop:e.marginTop})},null,8,["class","style"])))),128))])),_:1},512)])),_:1},512)):_(t.$slots,"default",{key:1},void 0,!0)])),_:3})}],["__scopeId","data-v-ca8a4da7"]]);export{y as _};
